version: "3.1"

intents:
  - greet
  - book_flight
  - inform_origin
  - inform_destination
  - inform_travel_date
  - inform_passenger_name
  - inform_phone_number
  - inform_seat_preference
  - inform_class_selection
  - inform_flight_time
  - inform_travel_count
entities:
  - origin
  - destination
  - travel_date
  - passenger_name
  - phone_number
  - seat_preference
  - class_selection
  - flight_time
  - travel_count
slots:
  origin:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: flight_booking_form
            requested_slot: origin

  destination:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: flight_booking_form
            requested_slot: destination

  travel_date:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: flight_booking_form
            requested_slot: travel_date

  passenger_name:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: flight_booking_form
            requested_slot: passenger_name

  phone_number:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: flight_booking_form
            requested_slot: phone_number

  seat_preference:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: flight_booking_form
            requested_slot: seat_preference

  class_selection:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: flight_booking_form
            requested_slot: class_selection

  flight_time:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: flight_booking_form
            requested_slot: flight_time
  travel_count:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: flight_booking_form
            requested_slot: travel_count

forms:
  flight_booking_form:
    required_slots:
      - origin
      - destination
      - travel_date
      - passenger_name
      - phone_number
      - seat_preference
      - class_selection
      - flight_time
      - travel_count

responses:
  utter_greet:
    - text: "Hi, I am Flight Expert. How can I help you today?"

  utter_ask_origin:
    - text: "Where are you traveling from?"

  utter_ask_destination:
    - text: "Where are you traveling to?"

  utter_ask_travel_date:
    - text: "Which date do you want to travel?"

  utter_ask_passenger_name:
    - text: "Please provide the passenger's name."

  utter_ask_phone_number:
    - text: "Please provide your phone number."

  utter_ask_seat_preference:
    - text: "Do you have a seat preference (window, aisle, middle)?"

  utter_ask_class_selection:
    - text: "Which class do you prefer (economy, business, first)?"

  utter_ask_flight_time:
    - text: "What time do you want to fly?"
  utter_ask_travel_count:
    - text: "How many travelers are there?"

actions:
  - action_submit_booking
  - action_book_flight
  - validate_flight_booking_form

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true